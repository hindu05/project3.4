'use strict';var backBtn=document.getElementById('animal-info__backBtn'),descTag=document.getElementById('description'),animalList=document.getElementById('animalList'),aside=document.getElementById('productAside'),productURL='data/produkter.json',animalURL='data/fisk_og_dyr.json';function firstToUpperCase(a){return a[0].toUpperCase()+a.slice(1,a.length)}backBtn.onclick=function(){return window.history.back()},get(animalURL).then(function(a){var b=JSON.parse(a);for(var c in b)for(var d in b[c])animalList.innerHTML+='<li data-dyr="'+b[c][d].navn+'">'+b[c][d].navn+'\n      <svg class="animal-list_icon"  viewBox="0 0 100 100">\n        <use xlink:href="img/dyr/ikoner/'+b[c][d].svg_ikon+'#'+b[c][d].svg_ikon+'"></use>\n      </svg>\n\n      </li>'}),animalList.addEventListener('click',function(a){if(a.target.dataset.dyr){for(var b=a.target.parentNode.children,c=0;c<b.length;c++)b[c].classList.remove('animal-list--active');a.target.classList.toggle('animal-list--active'),getAnimal(a.target.dataset.dyr),a.target.children[0].children[0].style.fill='#fff'}},!0);function getAnimal(a){get('php/animal_decription.php?animal='+a).then(function(b){descTag.innerHTML=b}),get('php/relevant_products.php?animal='+a).then(function(b){aside.innerHTML=b})}function get(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open('GET',a),d.onload=function(){200==d.status?b(d.response):c(Error(d.statusText))},d.onerror=function(){c(Error('Network Error'))},d.send()})}
